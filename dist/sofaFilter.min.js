/**
 * angular-sofa-filter - v0.1.0 - Wed Apr 08 2015 12:22:37 GMT+0200 (CEST)
 * http://www.sofa.io
 *
 * Copyright (c) 2014 CouchCommerce GmbH (http://www.couchcommerce.com / http://www.sofa.io) and other contributors
 * THIS SOFTWARE CONTAINS COMPONENTS OF THE SOFA.IO COUCHCOMMERCE SDK (WWW.SOFA.IO)
 * IT IS PROVIDED UNDER THE LICENSE TERMS OF THE ATTACHED LICENSE.TXT.
 */
!function(r){r.module("sofa.filter",["sofa.filter.currency","sofa.filter.stringReplace"]),r.module("sofa.filter.currency",["sofa.core"]).filter("currency",["configService",function(r){var e={EUR:{synonyms:["&euro;","€","EUR"],character:"€"},USD:{synonyms:["&&#36;","$","USD"],character:"$"},GBP:{synonyms:["&pound;","£","GBP"],character:"£"},CHF:{synonyms:["CHF"],character:"CHF"},PLN:{synonyms:["PLN"],character:"zł"}},n=function(r){return r.replace(".",",")},t=r.get("currencySign");return function(r){var a=(t||"&euro;").trim(),c=sofa.Util.findKey(e,function(r){return r.synonyms.indexOf(a)>-1}),s=e[c].character,i=parseFloat(r).toFixed(2);return"EUR"===c?n(i)+" "+s:"USD"===c||"GBP"===c?s+" "+i:"CHF"===c?s+" "+n(i):"PLN"===c?n(i)+" "+s:i}}]),r.module("sofa.filter.stringReplace",[]).filter("stringReplace",[function(){"use strict";return function(e){var n=[];if(arguments.length<2)return e;if(arguments.length>2)n=Array.prototype.slice.call(arguments,1);else{var t=arguments[1];if(r.isArray(t))n=t;else{if(!r.isString(t)&&!r.isNumber(t))return e;n[0]=t}}var a=function(r,e){for(var n=/%s/,t=r.match(/%s/g).length,a=0;t+1>a;a++)r=r.replace(n,e[a]);return r};return a(e,n)}}])}(angular);